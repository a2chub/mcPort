# 実装手順

本章ではMC-Portの基本実装フローを示します。Go言語での実装を前提とした例ですが、
他言語でも概念的には同様です。

1. **プロジェクト初期化**
   - モジュール作成 (`go mod init` など) と依存ライブラリの整理
   - CI設定ファイルの作成
2. **設定ファイルの読み込み実装**
   - YAMLからポート範囲と保存先を読み込む構造体を作成
   - バリデーション処理を追加
3. **データストア層の実装**
   - JSONファイルまたはSQLiteを操作する簡易ORMを用意
   - 割り当て状態の読み書きAPIを整える
4. **ポート割り当てロジックの実装**
   - OSに`bind`を試行して利用可能か確認する関数を実装
   - 空きポートを検索し、データストアに記録
5. **HTTP/gRPC APIサーバーの実装**
   - `/allocate`、`/register`、`/release`、`/services` 各エンドポイントを実装
   - 必要に応じて認証ミドルウェアを導入
6. **クライアントライブラリの実装**
   - 上記APIへのリクエスト処理をラップ
   - MCPサーバー側から利用しやすいインタフェースを提供
7. **ユニットテストと統合テスト**
   - ポート割り当てアルゴリズムの境界値テスト
   - APIを立ち上げた状態での統合テスト
8. **ドキュメント整備とパッケージング**
   - READMEおよび本ドキュメントを更新
   - dxt形式で配布可能なパッケージを生成

各ステップは小さなタスクに分割し、進捗は`progress_log.md`へ記録します。
